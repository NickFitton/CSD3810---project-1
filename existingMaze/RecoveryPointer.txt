class Pointer {
  int[] pointer;
  Pointer() {
    pointer = new int[0];
    pointer = append(pointer, 0);
  }

  void increment() {
    int updatedPointer = pointer[pointer.length - 1];
    pointer[pointer.length - 1] = updatedPointer + 1;
  }

  void decrement() {
    int updatedPointer = pointer[pointer.length - 1];
    pointer[pointer.length - 1] = updatedPointer - 1;
  }

  void indent() {
    pointer = append(pointer, 0);
  }

  void outdent() {
    pointer = shorten(pointer);
  }
  
  void printPointer(int[] pointer) {
    if (pointer.length == 0) {
      println();
    } else {
      print(pointer[0] + ", ");
      printPointer(shorten(pointer));
    }
  }

  Block point(Block[] blocks) throws IOException {
    return getBlock(blocks, pointer);
  }

  Block getBlock(Block[] blocks, int[] pointers) throws IOException, ArrayIndexOutOfBoundsException {
    Block foundBlock = blocks[pointers[0]];
    if (pointers.length > 1) {
      int[] newPointers = reverse(shorten(reverse(pointers)));
      return getBlock(foundBlock.getSubBlocks(), newPointers);
    } else {
      println();
      return foundBlock;
    }
  }
}
